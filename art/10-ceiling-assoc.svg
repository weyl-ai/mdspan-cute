<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080">
  <defs>
    <pattern id="grid" width="64" height="64" patternUnits="userSpaceOnUse">
      <path d="M 64 0 L 0 0 0 64" fill="none" stroke="#596775" stroke-width="0.5" opacity="0.15"/>
    </pattern>
    <linearGradient id="bridgeGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#54aeff" stop-opacity="0.6"/>
      <stop offset="50%" stop-color="#b6e3ff" stop-opacity="1"/>
      <stop offset="100%" stop-color="#54aeff" stop-opacity="0.6"/>
    </linearGradient>
  </defs>
  
  <rect width="1920" height="1080" fill="#111417"/>
  <rect width="1920" height="1080" fill="url(#grid)"/>
  
  <text x="960" y="70" text-anchor="middle" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="48" font-weight="600" fill="#80ccff">Ceiling Division Associativity</text>
  <text x="960" y="115" text-anchor="middle" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="24" fill="#596775">Theorem 3.2 · nvfuser integer-division.md §5.11</text>
  
  <g transform="translate(410, 160)">
    <rect x="0" y="0" width="1100" height="100" rx="8" fill="#111417" stroke="url(#bridgeGrad)" stroke-width="2"/>
    <text x="550" y="60" text-anchor="middle" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="42" font-weight="600" fill="#b6e3ff">⌈⌈i/n⌉/m⌉ = ⌈i/(m×n)⌉</text>
  </g>
  
  <g transform="translate(100, 320)">
    <text x="0" y="0" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="28" fill="#80ccff">Visual: i = 47, n = 4, m = 3</text>
    
    <!-- Left side: nested ceiling -->
    <g transform="translate(0, 50)">
      <rect x="0" y="0" width="750" height="260" rx="8" fill="#111417" stroke="#54aeff" stroke-width="2"/>
      <text x="375" y="35" text-anchor="middle" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="22" fill="#54aeff">Left: ⌈⌈47/4⌉/3⌉</text>
      <g transform="translate(30, 60)">
        <text x="0" y="20" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="16" fill="#596775">Step 1: ⌈47/4⌉</text>
        <text x="0" y="50" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="16" fill="#b6e3ff">47 / 4 = 11.75 → ⌈11.75⌉ = 12</text>
        <g transform="translate(0, 70)">
          <rect x="0" y="0" width="50" height="25" rx="3" fill="#111417" stroke="#54aeff"/>
          <rect x="55" y="0" width="50" height="25" rx="3" fill="#111417" stroke="#54aeff"/>
          <rect x="110" y="0" width="50" height="25" rx="3" fill="#111417" stroke="#54aeff"/>
          <rect x="165" y="0" width="50" height="25" rx="3" fill="#111417" stroke="#54aeff"/>
          <rect x="220" y="0" width="50" height="25" rx="3" fill="#111417" stroke="#54aeff"/>
          <rect x="275" y="0" width="50" height="25" rx="3" fill="#111417" stroke="#54aeff"/>
          <rect x="330" y="0" width="50" height="25" rx="3" fill="#111417" stroke="#54aeff"/>
          <rect x="385" y="0" width="50" height="25" rx="3" fill="#111417" stroke="#54aeff"/>
          <rect x="440" y="0" width="50" height="25" rx="3" fill="#111417" stroke="#54aeff"/>
          <rect x="495" y="0" width="50" height="25" rx="3" fill="#111417" stroke="#54aeff"/>
          <rect x="550" y="0" width="50" height="25" rx="3" fill="#111417" stroke="#54aeff"/>
          <rect x="605" y="0" width="50" height="25" rx="3" fill="#111417" stroke="#596775" stroke-dasharray="3,2"/>
          <text x="630" y="17" text-anchor="middle" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="10" fill="#596775">3h</text>
        </g>
        <text x="300" y="115" text-anchor="middle" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="12" fill="#596775">12 groups (last has 3 holes)</text>
      </g>
      <g transform="translate(30, 190)">
        <text x="0" y="20" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="16" fill="#596775">Step 2: ⌈12/3⌉</text>
        <text x="0" y="50" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="16" fill="#b6e3ff">12 / 3 = 4.0 → ⌈4.0⌉ = 4</text>
        <text x="400" y="35" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="24" fill="#54aeff">= 4</text>
      </g>
    </g>
    
    <!-- Right side: single ceiling -->
    <g transform="translate(850, 50)">
      <rect x="0" y="0" width="750" height="260" rx="8" fill="#111417" stroke="#80ccff" stroke-width="2"/>
      <text x="375" y="35" text-anchor="middle" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="22" fill="#80ccff">Right: ⌈47/(3×4)⌉</text>
      <g transform="translate(30, 60)">
        <text x="0" y="20" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="16" fill="#596775">Direct: ⌈47/12⌉</text>
        <text x="0" y="50" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="16" fill="#b6e3ff">47 / 12 = 3.917 → ⌈3.917⌉ = 4</text>
        <g transform="translate(0, 70)">
          <rect x="0" y="0" width="150" height="25" rx="3" fill="#111417" stroke="#80ccff"/>
          <rect x="160" y="0" width="150" height="25" rx="3" fill="#111417" stroke="#80ccff"/>
          <rect x="320" y="0" width="150" height="25" rx="3" fill="#111417" stroke="#80ccff"/>
          <rect x="480" y="0" width="150" height="25" rx="3" fill="#111417" stroke="#596775" stroke-dasharray="3,2"/>
          <text x="75" y="17" text-anchor="middle" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="10" fill="#80ccff">12</text>
          <text x="235" y="17" text-anchor="middle" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="10" fill="#80ccff">12</text>
          <text x="395" y="17" text-anchor="middle" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="10" fill="#80ccff">12</text>
          <text x="555" y="17" text-anchor="middle" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="10" fill="#596775">11+1h</text>
        </g>
        <text x="300" y="115" text-anchor="middle" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="12" fill="#596775">4 groups (last has 1 hole)</text>
      </g>
      <g transform="translate(30, 190)">
        <text x="400" y="35" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="24" fill="#80ccff">= 4</text>
      </g>
    </g>
    
    <text x="800" y="200" text-anchor="middle" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="60" fill="#b6e3ff">=</text>
  </g>
  
  <!-- Proof technique -->
  <g transform="translate(100, 700)">
    <text x="0" y="0" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="28" fill="#80ccff">Proof Technique: Galois Connection</text>
    <rect x="0" y="30" width="1700" height="160" rx="8" fill="#111417" stroke="#54aeff" stroke-width="2"/>
    <text x="30" y="70" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="18" fill="#596775">To show LHS ≤ RHS:</text>
    <text x="280" y="70" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="18" fill="#b6e3ff">By Galois: ⌈⌈i/n⌉/m⌉ ≤ ⌈i/(m×n)⌉  ⟺  ⌈i/n⌉ ≤ ⌈i/(m×n)⌉ × m</text>
    <text x="280" y="100" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="18" fill="#b6e3ff">By Galois again:  ⟺  i ≤ ⌈i/(m×n)⌉ × m × n = ⌈i/(m×n)⌉ × (m×n)</text>
    <text x="280" y="130" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="18" fill="#54aeff">True by definition of ceiling! ✓</text>
    <text x="30" y="165" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="18" fill="#596775">RHS ≤ LHS:</text>
    <text x="280" y="165" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="18" fill="#b6e3ff">Chain: i ≤ ⌈i/n⌉×n ≤ ⌈⌈i/n⌉/m⌉×m×n = LHS × (m×n)</text>
  </g>
  
  <g transform="translate(100, 940)">
    <rect x="0" y="0" width="1700" height="50" rx="6" fill="#111417" stroke="#596775" stroke-width="1"/>
    <text x="20" y="32" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="14" fill="#54aeff">theorem</text>
    <text x="100" y="32" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="14" fill="#80ccff"> ceilDiv_assoc</text>
    <text x="240" y="32" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="14" fill="#b6e3ff"> (i m n : ℕ) (hm : m &gt; 0) (hn : n &gt; 0) : ceilDiv (ceilDiv i n) m = ceilDiv i (m * n)</text>
  </g>
  
  <text x="1870" y="1050" text-anchor="end" font-family="Berkeley Mono, SF Mono, Consolas, monospace" font-size="14" fill="#596775" opacity="0.6">razorgirl · 3.2 · 2026</text>
</svg>
